<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SIGHT-LINE | Tracking Pod</title>
    <link rel="stylesheet" href="./style.css">
</head>

<body>
    <div id="app">
        <div class="hud-container">
            <header class="hud-header">
                <div class="hud-logo">SIGHT-LINE v1.0</div>
                <div id="tgt-coord" class="hud-metric" style="color:var(--accent)">TGT: -- / --</div>
                <div id="fps" class="hud-metric">FPS: 0</div>
                <div id="status" class="hud-status">STATUS: STANDBY</div>
            </header>

            <main class="viewscreen">
                <video id="video" playsinline muted style="display:none"></video>
                <canvas id="canvas"></canvas>
                <div id="selection-overlay" class="selection-overlay"></div>

                <!-- Advanced Sensor Panel -->
                <div id="sensor-panel" class="sensor-panel">
                    <div class="panel-header">SENSOR CALIBRATION</div>

                    <div class="control-row">
                        <label>EXP</label>
                        <input type="range" id="exp-slider" min="-100" max="100" value="0">
                        <span id="exp-val">0</span>
                    </div>

                    <div class="control-row" title="Glare Gating (Suppress bright hotspots)">
                        <label>GATE</label>
                        <input type="range" id="gate-slider" min="50" max="255" value="255">
                        <span id="gate-val">OFF</span>
                    </div>

                    <div class="control-row">
                        <label>CON</label>
                        <input type="range" id="con-slider" min="0.5" max="3.0" step="0.1" value="1.0">
                        <span id="con-val">1.0</span>
                    </div>

                    <div class="control-row" id="lvl-ctrl">
                        <label>LVL</label>
                        <input type="range" id="lvl-slider" min="0" max="255" value="127">
                        <span id="lvl-val">127</span>
                    </div>

                    <div class="control-row" id="wid-ctrl">
                        <label>WID</label>
                        <input type="range" id="wid-slider" min="2" max="255" value="64">
                        <span id="wid-val">64</span>
                    </div>

                    <div class="control-row" id="hue-ctrl" style="display:none">
                        <label>HUE</label>
                        <input type="range" id="hue-slider" min="0" max="180" value="0">
                        <span id="hue-val">0</span>
                    </div>

                    <div class="control-row" id="sat-ctrl" style="display:none">
                        <label>SAT</label>
                        <input type="range" id="sat-slider" min="0" max="255" value="50">
                        <span id="sat-val">50</span>
                    </div>

                    <div class="control-row" id="val-ctrl-min" style="display:none">
                        <label>VAL</label>
                        <input type="range" id="val-slider-min" min="0" max="255" value="50">
                        <span id="val-val-min">50</span>
                    </div>

                    <div class="control-row" title="Radar Min Movement (px²) — higher = less sensitive">
                        <label>SENS</label>
                        <input type="range" id="sens-slider" min="50" max="2000" value="200" step="50">
                        <span id="sens-val">200</span>
                    </div>
                </div>
            </main>

            <footer class="hud-footer">
                <div class="footer-top">
                    <div class="control-group">
                        <button id="camera-toggle" class="hud-btn">CAM</button>
                        <button id="isolate-btn" class="hud-btn">NORM</button>
                        <button id="radar-btn" class="hud-btn">RDR</button>
                        <button id="prev-btn" class="hud-btn">◀TGT</button>
                        <button id="next-btn" class="hud-btn">TGT▶</button>
                        <button id="reset-btn" class="hud-btn">RESET</button>
                    </div>

                    <div class="zoom-controls">
                        <button id="zoom-out" class="hud-btn">-</button>
                        <div id="mag-display" class="mag-val">1X</div>
                        <button id="zoom-in" class="hud-btn">+</button>
                    </div>
                </div>

                <div class="footer-bottom">
                    <div class="control-group">
                        <button id="sensor-toggle" class="hud-btn">CALIB</button>
                        <button id="level-mode-btn" class="hud-btn">AUTO</button>
                    </div>

                    <div class="slew-controls">
                        <button id="slew-up" class="slew-btn">▲</button>
                        <div class="slew-row">
                            <button id="slew-left" class="slew-btn">◀</button>
                            <button id="slew-right" class="slew-btn">▶</button>
                        </div>
                        <button id="slew-down" class="slew-btn">▼</button>
                    </div>
                </div>
            </footer>
        </div>
    </div>
    <script async src="./js/opencv.js" type="text/javascript"></script>
    <script type="module" src="./main.js"></script>
</body>

</html>